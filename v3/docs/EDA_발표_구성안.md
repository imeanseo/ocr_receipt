# 발표용 EDA 구성안 (Receipt OCR Detection)

발표에서 **데이터를 이해했고, 이에 맞춰 모델/학습을 설계했다**는 인상을 주기 위한 EDA 구성입니다.

---

## 1. 슬라이드/발표에 넣을 항목 (우선순위)

### 1) 데이터셋 개요 (1장)
- **Train / Val / Test 이미지 수**
- **총 어노테이션 수** (이미지당 단어 수 합계)
- 표로 정리: `| 구분 | 이미지 수 | 총 단어(폴리곤) 수 | 이미지당 평균 단어 수 |`

→ “데이터 규모와 분할이 명확하다”는 메시지.

### 2) 이미지 해상도·비율 분포 (1~2장)
- **가로·세로 픽셀 분포** (히스토그램 또는 box plot)
- **Aspect ratio 분포** (세로/가로 또는 가로/세로)
- **LongestMaxSize 1024** 같은 전처리 선택 이유와 연결  
  - “해상도 분포를 보고 1024 리사이즈를 선택했다” 정도로 말할 수 있음.

### 3) 어노테이션 분포 (1장)
- **이미지당 단어(폴리곤) 수 분포** (히스토그램)
- **폴리곤당 꼭짓점 수** (대부분 4점인지 등)
- 이상치: 단어 수 0인 이미지, 극단적으로 많은 이미지

→ “레이블 불균형·이상치를 인지하고 있다”는 인상.

### 4) 샘플 시각화 (2~3장)
- **원본 이미지 + GT 폴리곤 오버레이** (Train 2~3장, Val 1장)
- 가능하면 **다양한 케이스**:  
  - 단어 많은 영수증 / 적은 영수증  
  - 가로로 긴 이미지 / 정사각형에 가까운 이미지  

→ “데이터 형식과 태스크를 정확히 이해했다”는 메시지.

### 5) 태스크·라벨 형식 요약 (1장)
- **라벨 형식**: Word-level polygon (4점 이상), JSON 구조 한 줄 요약
- **학습 목표**: 텍스트 영역 검출 (Detection) → 이후 Recognition은 별도 단계
- **평가 지표**: CLEval (Precision / Recall / Hmean) 언급

→ “우리가 푼 문제 정의”를 명확히.

### 6) (선택) 데이터 품질·이슈
- 단어 수 0인 이미지 비율
- 해상도 극단치 (매우 작은/큰 이미지) 비율
- “이런 이슈를 인지하고, 학습/검증 시 제외하거나 가중치를 두었다” 정도만 짧게.

---

## 2. 발표에서 말할 때 포인트

1. **데이터 규모**: “Train N장, Val M장으로 분할했고, 총 O개 단어 수준의 폴리곤을 사용했습니다.”
2. **해상도**: “해상도 분포를 보고 long side 1024 리사이즈를 선택해 메모리와 성능을 타협했습니다.”
3. **라벨**: “Word-level polygon으로 되어 있어서 DB(Detection) 모델로 텍스트 영역만 검출하는 단계입니다.”
4. **시각화**: “GT를 오버레이한 샘플로, 실제로 어떤 형태의 영수증/텍스트를 다루는지 보여드립니다.”

---

## 3. 준비하면 좋은 산출물

| 산출물 | 용도 |
|--------|------|
| **통계 표** (이미지 수, 단어 수, 평균 등) | 슬라이드 표 |
| **해상도·비율 히스토그램** | 슬라이드 1~2장 |
| **이미지당 단어 수 히스토그램** | 슬라이드 1장 |
| **GT 오버레이 샘플 이미지 3~5장** | 슬라이드 2~3장 |
| **JSON 라벨 구조 요약** (키만 나열) | 부록 또는 한 장 |

---

## 4. EDA 노트북 사용법

- `v3/notebooks/eda_presentation.ipynb` 실행 시 위 통계·시각화가 한 번에 생성되도록 구성해 두었습니다.
- 데이터 경로는 `configs/preset/datasets/db.yaml`의 `dataset_base_path`와 동일하게 맞춰 두었습니다.
- 발표용 그림을 저장하려면 노트북 마지막 셀에서 `SAVE_FIGURES = True`로 두고 실행하면 됩니다.

---

## 5. 발표 순서 예시

1. **과제 소개** (태스크, 평가 지표)
2. **데이터 소개** ← EDA 개요 + 샘플 시각화
3. **모델/학습 설정** (ResNet50, DB, 1024 등)
4. **실험 결과** (지표, 예시 예측)
5. **결론 및 한계**

EDA는 2번 “데이터 소개”에서 2~3분 안에 요약해서 쓰면 충분합니다.
